<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>House Price Prediction</title>
</head>
<body>
    <h1>House Price Prediction</h1>
    
    <form id="prediction-form">
        <label for="suburb">Suburb:</label>
        <input type="text" id="suburb" name="Suburb" required><br>

        <label for="address">Address:</label>
        <input type="text" id="address" name="Address" required><br>

        <label for="rooms">Rooms:</label>
        <input type="number" id="rooms" name="Rooms" required><br>

        <label for="type">Type (h/u/t):</label>
        <input type="text" id="type" name="Type" required><br>

        <label for="method">Method:</label>
        <input type="text" id="method" name="Method" required><br>

        <label for="seller">Seller:</label>
        <input type="text" id="seller" name="Seller" required><br>

        <label for="date">Date:</label>
        <input type="date" id="date" name="Date" required><br>

        <label for="distance">Distance:</label>
        <input type="number" id="distance" name="Distance" step="0.1" required><br>

        <label for="postcode">Postcode:</label>
        <input type="number" id="postcode" name="Postcode" required><br>

        <label for="bedroom2">Bedrooms:</label>
        <input type="number" id="bedroom2" name="Bedroom2" required><br>

        <label for="bathroom">Bathrooms:</label>
        <input type="number" id="bathroom" name="Bathroom" required><br>

        <label for="car">Car:</label>
        <input type="number" id="car" name="Car" required><br>

        <label for="landsize">Landsize:</label>
        <input type="number" id="landsize" name="Landsize" required><br>

        <label for="buildingarea">Building Area:</label>
        <input type="number" id="buildingarea" name="BuildingArea" required><br>

        <label for="yearbuilt">Year Built:</label>
        <input type="number" id="yearbuilt" name="YearBuilt" required><br>

        <label for="councilarea">Council Area:</label>
        <input type="text" id="councilarea" name="CouncilArea" required><br>

        <label for="latitude">Latitude:</label>
        <input type="number" id="latitude" name="Lattitude" step="0.0001" required><br>

        <label for="longitude">Longitude:</label>
        <input type="number" id="longitude" name="Longtitude" step="0.0001" required><br>

        <label for="region">Region:</label>
        <input type="text" id="region" name="Region" required><br>

        <label for="propertycount">Property Count:</label>
        <input type="number" id="propertycount" name="Propertycount" required><br>

        <button type="submit">Predict Price</button>
    </form>

    <h2>Predicted Price:</h2>
    <p id="prediction-result">Waiting for input...</p>

    <script>
        document.getElementById("prediction-form").addEventListener("submit", async function(event) {
            event.preventDefault();  // Prevent form submission

            const formData = new FormData(this);
            let jsonData = {};
            formData.forEach((value, key) => {
                jsonData[key] = isNaN(value) ? value : parseFloat(value);
            });

            const response = await fetch("/predict", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(jsonData)
            });

            const result = await response.json();

            if (result.predicted_price) {
                document.getElementById("prediction-result").innerText = "Predicted Price: $" + result.predicted_price;
            } else {
                document.getElementById("prediction-result").innerText = "Error: " + result.error;
            }
        });
    </script>

</body>
</html>
